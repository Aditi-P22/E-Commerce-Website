{"ast":null,"code":"import _regeneratorRuntime from\"C:/Projects/E-commerceapp-main/E-commerceapp-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Projects/E-commerceapp-main/E-commerceapp-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Projects/E-commerceapp-main/E-commerceapp-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import\"./cart.css\";import{products}from'../home/productdata';import{Divider}from'@mui/material';import{useHistory,useParams}from'react-router';import CircularProgress from'@mui/material/CircularProgress';import{Logincontext}from\"../context/Contextprovider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(){var _useContext=useContext(Logincontext),account=_useContext.account,setAccount=_useContext.setAccount;// console.log(account);\nvar _useParams=useParams(\"\"),id=_useParams.id;// console.log(id);\nvar history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),inddata=_useState2[0],setIndedata=_useState2[1];// console.log([inddata]);\nvar getinddata=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/getproductsone/\".concat(id),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},credentials:\"include\"});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;// console.log(data);\nif(res.status!==201){alert(\"no data available\");}else{// console.log(\"ind mila hain\");\nsetIndedata(data);}case 7:case\"end\":return _context.stop();}},_callee);}));return function getinddata(){return _ref.apply(this,arguments);};}();useEffect(function(){setTimeout(getinddata,1000);},[id]);var addtocart=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var check,data1;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log(id);_context2.next=3;return fetch(\"/addcart/\".concat(id),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({inddata:inddata}),credentials:\"include\"});case 3:check=_context2.sent;_context2.next=6;return check.json();case 6:data1=_context2.sent;// console.log(data1 +  'ok');\nif(check.status!==201){alert(\"no data available\");}else{// console.log(\"cart add ho gya hain\");\nsetAccount(data1);history.push(\"/buynow\");}case 8:case\"end\":return _context2.stop();}},_callee2);}));return function addtocart(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"cart_section\",children:[inddata&&Object.keys(inddata).length&&/*#__PURE__*/_jsxs(\"div\",{className:\"cart_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left_cart\",children:[/*#__PURE__*/_jsx(\"img\",{src:inddata.detailUrl,alt:\"cart\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart_btn\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"cart_btn1\",onClick:function onClick(){return addtocart(inddata.id);},children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cart_btn2\",children:\"Buy Now\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right_cart\",children:[/*#__PURE__*/_jsx(\"h3\",{children:inddata.title.shortTitle}),/*#__PURE__*/_jsx(\"h4\",{children:inddata.title.longTitle}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(\"p\",{className:\"mrp\",children:[\"M.R.P. : \",/*#__PURE__*/_jsxs(\"del\",{children:[\"\\u20B9\",inddata.price.mrp]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Deal of the Day : \",/*#__PURE__*/_jsxs(\"span\",{style:{color:\"#B12704\"},children:[\"\\u20B9\",inddata.price.cost,\".00\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You save : \",/*#__PURE__*/_jsxs(\"span\",{style:{color:\"#B12704\"},children:[\" \\u20B9\",inddata.price.mrp-inddata.price.cost,\" (\",inddata.price.discount,\") \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"discount_box\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"Discount : \",/*#__PURE__*/_jsx(\"span\",{style:{color:\"#111\"},children:inddata.discount}),\" \"]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"FREE Delivery : \",/*#__PURE__*/_jsx(\"span\",{style:{color:\"#111\",fontWeight:\"600\"},children:\"Oct 8 - 21\"}),\" Details\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#111\"},children:[\"Fastest delivery: \",/*#__PURE__*/_jsx(\"span\",{style:{color:\"#111\",fontWeight:\"600\"},children:\" Tomorrow 11AM\"})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"description\",children:[\"About the Iteam : \",/*#__PURE__*/_jsx(\"span\",{style:{color:\"#565959\",fontSize:\"14px\",fontWeight:\"500\",letterSpacing:\"0.4px\"},children:inddata.description})]})]})]}),!inddata?/*#__PURE__*/_jsxs(\"div\",{className:\"circle\",children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(\"h2\",{children:\" Loading....\"})]}):\"\"]});};export default Cart;","map":{"version":3,"names":["React","useContext","useEffect","useState","products","Divider","useHistory","useParams","CircularProgress","Logincontext","jsx","_jsx","jsxs","_jsxs","Cart","_useContext","account","setAccount","_useParams","id","history","_useState","_useState2","_slicedToArray","inddata","setIndedata","getinddata","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","Accept","credentials","sent","json","status","alert","stop","apply","arguments","setTimeout","addtocart","_ref2","_callee2","check","data1","_callee2$","_context2","console","log","body","JSON","stringify","push","_x","className","children","Object","keys","length","src","detailUrl","alt","onClick","title","shortTitle","longTitle","price","mrp","style","color","cost","discount","fontWeight","fontSize","letterSpacing","description"],"sources":["C:/Projects/E-commerceapp-main/E-commerceapp-main/client/src/Components/cart/Cart.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport \"./cart.css\";\nimport { products } from '../home/productdata';\nimport { Divider } from '@mui/material';\nimport { useHistory, useParams } from 'react-router';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { Logincontext } from \"../context/Contextprovider\";\n\nconst Cart = () => {\n\n    const { account, setAccount } = useContext(Logincontext);\n    // console.log(account);\n\n\n\n    const { id } = useParams(\"\");\n    // console.log(id);\n\n    const history = useHistory();\n\n    const [inddata, setIndedata] = useState(\"\");\n\n    // console.log([inddata]);\n\n    const getinddata = async () => {\n        const res = await fetch(`/getproductsone/${id}`, {\n            method: \"GET\",\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\"\n            },\n            credentials: \"include\"\n        });\n\n        const data = await res.json();\n        // console.log(data);\n\n        if (res.status !== 201) {\n            alert(\"no data available\")\n        } else {\n            // console.log(\"ind mila hain\");\n            setIndedata(data);\n        }\n    };\n\n    useEffect(() => {\n        setTimeout(getinddata, 1000)\n    }, [id]);\n\n    const addtocart = async (id) => {\n        console.log(id);\n        const check = await fetch(`/addcart/${id}`, {\n            method: \"POST\",\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                inddata\n            }),\n            credentials: \"include\"\n        });\n        // console.log(check);\n        const data1 = await check.json();\n        // console.log(data1 +  'ok');\n\n        if (check.status !== 201) {\n            alert(\"no data available\")\n        } else {\n            // console.log(\"cart add ho gya hain\");\n            setAccount(data1)\n            history.push(\"/buynow\");\n        }\n    }\n\n\n    return (\n\n        <div className=\"cart_section\">\n            {inddata && Object.keys(inddata).length &&\n                <div className=\"cart_container\">\n                    <div className=\"left_cart\">\n                        <img src={inddata.detailUrl} alt=\"cart\" />\n                        <div className=\"cart_btn\">\n                            <button className=\"cart_btn1\" onClick={() => addtocart(inddata.id)}>Add to Cart</button>\n                            <button className=\"cart_btn2\">Buy Now</button>\n                        </div>\n\n                    </div>\n                    <div className=\"right_cart\">\n                        <h3>{inddata.title.shortTitle}</h3>\n                        <h4>{inddata.title.longTitle}</h4>\n                        <Divider />\n                        <p className=\"mrp\">M.R.P. : <del>₹{inddata.price.mrp}</del></p>\n                        <p>Deal of the Day : <span style={{ color: \"#B12704\" }}>₹{inddata.price.cost}.00</span></p>\n                        <p>You save : <span style={{ color: \"#B12704\" }}> ₹{inddata.price.mrp - inddata.price.cost} ({inddata.price.discount}) </span></p>\n\n                        <div className=\"discount_box\">\n                            <h5 >Discount : <span style={{ color: \"#111\" }}>{inddata.discount}</span> </h5>\n                            <h4>FREE Delivery : <span style={{ color: \"#111\", fontWeight: \"600\" }}>Oct 8 - 21</span> Details</h4>\n                            <p style={{ color: \"#111\" }}>Fastest delivery: <span style={{ color: \"#111\", fontWeight: \"600\" }}> Tomorrow 11AM</span></p>\n                        </div>\n                        <p className=\"description\">About the Iteam : <span style={{ color: \"#565959\", fontSize: \"14px\", fontWeight: \"500\", letterSpacing: \"0.4px\" }}>{inddata.description}</span></p>\n                    </div>\n                </div>\n            }\n\n\n\n            {!inddata ? <div className=\"circle\">\n                <CircularProgress />\n                <h2> Loading....</h2>\n            </div> : \"\"}\n        </div>\n    )\n}\n\nexport default Cart\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}